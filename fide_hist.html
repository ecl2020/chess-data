<html>

<head>
    <meta charset="utf-8">
    <title>Chess Rating Visualization</title>
    <link rel="stylesheet" href="./styles.css" />
    <!-- For jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <!-- For d3 -->
    <script src="https://d3js.org/d3.v4.js" charset="utf-8"></script>
    <script src="./plots.js"></script>
</head>

<body>
    <table id="myTable" class='page-table'>
        <tr>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </table>
    <!-- <h1>Plots</h1> -->
    <script>pages("hist")</script>
    <!-- <p>
            Explore the Chessmetrics ratings compiled by Jeff Sonas. 
            This is an interactive plot using only data from January of each year. 
        </p> -->
    <div class="full-page" id="container">
        <div class='interact' id="user-input">
            <script>
                var address = "https://raw.githubusercontent.com/ecl2020/chess-data/master/data/fide_hist.txt"
            </script>
            <input type="number" min=1 value="10" id="nValue", class="rank-input">
            <input type="text" id="searchName" onkeyup="searchPlayer('' + address + '')"
            placeholder="player search">
            <!-- Create a div where the graph will go -->
        </div>
        <div id="plot" class='child float-left-child'>
            <ul id="searchUL"></ul>
            <script>plot('' + address + '',
                    "#plot", 10, false);
            </script>
        </div>
        <!-- <div class='data-table'> -->
            <table id="saved" class='saved'>
                <tr>
                    <td id=0 onclick="sortBy('' + id + '')" class="saved-header">Saved Player</td>
                    <td id=1 onclick="sortBy('' + id + '')" class="saved-header">Average Rating</td>
                    <td id=2 onclick="sortBy('' + id + '')" class="saved-header">Highest Rating</td>
                    <td id=3 onclick="sortBy('' + id + '')" class="saved-header">Highest Rank</td>
                </tr>
            </table>
        <!-- </div> -->
    </div>
    <script>
        d3.select("#nValue").on("input", function () {
            plot(address, "#plot", +this.value);
        });
    </script>
</body>
</html>